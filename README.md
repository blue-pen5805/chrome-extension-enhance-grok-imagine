## Gork Imagine Enhancer

Grok Imagine の利便性向上を目的とした Chrome 拡張機能です。`https://grok.com/imagine*` に限定して動作し、ポスト詳細ページで動く WebSocket を遮断して自動画像生成を抑止します。

### インストールと使い方

この拡張機能は現在 Chrome ウェブストアで公開されていません。以下の手順で、GitHub から直接インストールしてください。

#### 1. 拡張機能のソースコードをダウンロードする

まず、拡張機能のファイルを GitHub からダウンロードします。

1.  このリポジトリのトップページ右上にある緑色の **`< > Code`** ボタンをクリックします。
2.  表示されたメニューから **`Download ZIP`** を選択します。
3.  ダウンロードした ZIP ファイルを、PC の任意の場所に展開（解凍）してください。

#### 2. Chrome に拡張機能を読み込む

次に、展開したフォルダを Chrome に読み込みます。

1.  Chrome を開き、アドレスバーに `chrome://extensions` と入力して拡張機能管理ページにアクセスします。
2.  ページの右上にある **デベロッパーモード** のトグルスイッチを ON にします。
3.  左上に表示される **パッケージ化されていない拡張機能を読み込む** ボタンをクリックします。
4.  ファイル選択ダイアログが開くので、ステップ1で展開したフォルダ（`manifest.json` ファイルが含まれている階層）を選択します。

#### 3. 動作を確認する

1.  Grok Imagine (`https://grok.com/imagine`) を開きます。
2.  ポスト詳細ページへ遷移すると、WebSocket が自動的に切断され、画像の連続生成が停止することを確認します。

### 主な構成
- `src/background.js` — declarativeNetRequest で WebSocket をブロックしつつ、タブへ WebSocket フックを注入します。
- `src/content/index.js` — ページ遷移検知、クリック/タイマー計測、ポストページでの強制切断トリガーを担います。
- `ui/popup.html` — DOM 再スキャンや背景イベントログの取得・消去を行う簡易 UI です。

### 追加ドキュメント
- `docs/websocket.md` — WebSocket ロギング/ブロッキング/フック注入の詳細。
- `docs/testing.md` — 手動検証フローとトラブルシュート。
